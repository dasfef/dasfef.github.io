<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="description" content="dasfef(ë‹¤ìŠ¤í˜í”„)ì˜ ê°œë°œì·¨ì—…ë‚œì¤‘ì¼ê¸°">
  <!-- <meta name="description" content="dasfefì˜ ê°œë°œì·¨ì—…ë‚œì¤‘ì¼ê¸°"> -->
  <meta name="keywords" content="C,C++,C#,Python,Java,Arduino,Javascript,Oracle,Machine Learning,dev,íŒŒì´ì¬,ìë°”,ì•„ë‘ì´ë…¸,ìë°”ìŠ¤í¬ë¦½íŠ¸,ì˜¤ë¼í´,ë¨¸ì‹ ëŸ¬ë‹,AI">
  <title>
    [ì•„ë‘ì´ë…¸, C#]Delegate, BeginInvoke ë¡œ ì‹œë¦¬ì–¼ í†µì‹  ì§„í–‰í•˜ê¸° 
  </title>
  <!-- : dasfef -->
  
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
  <link rel="manifest" href="/assets/favicon/site.webmanifest">
  <link rel="mask-icon" href="/assets/favicon/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <script type="text/javascript" src=""></script>

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>[ì•„ë‘ì´ë…¸, C#]Delegate, BeginInvoke ë¡œ ì‹œë¦¬ì–¼ í†µì‹  ì§„í–‰í•˜ê¸° | dasfef</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="[ì•„ë‘ì´ë…¸, C#]Delegate, BeginInvoke ë¡œ ì‹œë¦¬ì–¼ í†µì‹  ì§„í–‰í•˜ê¸°" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="dasfefì˜ ê°œë°œì·¨ì—…ë‚œì¤‘ì¼ê¸°" />
<meta property="og:description" content="dasfefì˜ ê°œë°œì·¨ì—…ë‚œì¤‘ì¼ê¸°" />
<link rel="canonical" href="http://localhost:5500/csharp/2" />
<meta property="og:url" content="http://localhost:5500/csharp/2" />
<meta property="og:site_name" content="dasfef" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="[ì•„ë‘ì´ë…¸, C#]Delegate, BeginInvoke ë¡œ ì‹œë¦¬ì–¼ í†µì‹  ì§„í–‰í•˜ê¸°" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"dasfefì˜ ê°œë°œì·¨ì—…ë‚œì¤‘ì¼ê¸°","headline":"[ì•„ë‘ì´ë…¸, C#]Delegate, BeginInvoke ë¡œ ì‹œë¦¬ì–¼ í†µì‹  ì§„í–‰í•˜ê¸°","url":"http://localhost:5500/csharp/2"}</script>
<!-- End Jekyll SEO tag -->


</head>


  <body class="small">

    <header>
  <div class="menu">
    <ul>
      <li class="page_title">[ì•„ë‘ì´ë…¸, C#]Delegate, BeginInvoke ë¡œ ì‹œë¦¬ì–¼ í†µì‹  ì§„í–‰í•˜ê¸°</li>
<li><a href="/home">/HOME</a></li>
<li><a href="/posts">/POSTS</a></li>
<li><a href="/portfolio">/PORTFOLIO</a></li>
<li><a href="/about">/ABOUT</a></li>
</ul>
  </div>
</header>


    <p style="text-align:right; font-weight:bold;">2023.03.29</p>

<p><br>
ì•„ë‘ì´ë…¸ì™€ C# ì˜ ì‹œë¦¬ì–¼ í†µì‹ </p>

<p>â€‹<br></p>

<p><span class="mini-title">1. ì•„ë‘ì´ë…¸ í†µì‹  ì²´í¬</span></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">Count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>

<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">Count</span><span class="p">);</span>
  <span class="k">if</span><span class="p">(</span><span class="n">Count</span><span class="o">++</span> <span class="o">&gt;</span> <span class="mi">9999</span><span class="p">)</span> <span class="n">Count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<figure class="fig">
<img class="image" src="../contents/imgs/csharp_2/1.png">
</figure>

<p>ì •ìƒ ì—°ê²° ë° ë™ì‘ ì‹œ
0.5ì´ˆë§ˆë‹¤ 1ì”© ì¦ê°€í•˜ë©°
ì‹œë¦¬ì–¼ ëª¨ë‹ˆí„°ì— ì¶œë ¥ëœë‹¤
<br>
â€‹ì•„ë‘ì´ë…¸ì— ì´ìƒ ì—†ìŒ ì²´í¬</p>

<p>â€‹<br></p>

<p><span class="mini-title">2. C# ìœˆë„ìš° í¼ ë””ìì¸</span></p>
<figure class="fig">
<img class="image" src="../contents/imgs/csharp_2/2.png">
</figure>

<p>C# ë‚´ ê°„ë‹¨í•œ ìœˆë„ìš° í¼ ë””ìì¸
ë„êµ¬ : textBox
Dock : Fill</p>

<p><br>
<span class="mini-title">3. ì½”ë“œ êµ¬ì„±</span></p>

<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.ComponentModel</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Data</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Drawing</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Threading.Tasks</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Windows.Forms</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.IO.Ports</span><span class="p">;</span>                          <span class="c1">// í¬íŠ¸ ì„¤ì •ì„ ìœ„í•œ í˜¸ì¶œ</span>

<span class="k">namespace</span> <span class="nn">Serial_to_LCD</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">Form1</span> <span class="p">:</span> <span class="n">Form</span>
    <span class="p">{</span>
        <span class="n">SerialPort</span> <span class="n">ComPort</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SerialPort</span><span class="p">();</span>  <span class="c1">// ì „ì—­ë³€ìˆ˜ ComPort ì„¤ì •</span>
        <span class="k">public</span> <span class="nf">Form1</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="nf">InitializeComponent</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ìœ„ì™€ ê°™ì´ í¼ ë¡œë“œ ì „ì—
êµ¬ì„±ì„ í•´ì£¼ê³ </p>

<p>â€‹í¼ ë¡œë“œì™€ í´ë¡œì§• ì‹œ
í•„ìš”í•œ ì½”ë“œë¥¼ êµ¬ì„±í•œë‹¤</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">â€‹</span><span class="k">private</span> <span class="k">void</span> <span class="nf">Form1_Load</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="n">PortName</span> <span class="p">=</span> <span class="s">"COM3"</span><span class="p">;</span>          <span class="c1">// ì•„ë‘ì´ë…¸ê°€ ì—°ê²°ëœ í¬íŠ¸ ë²ˆí˜¸</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="n">BaudRate</span> <span class="p">=</span> <span class="m">9600</span><span class="p">;</span>            <span class="c1">// ì¼ë°˜ì ìœ¼ë¡œ 9600</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="n">DataBits</span> <span class="p">=</span> <span class="m">8</span><span class="p">;</span>               <span class="c1">// í†µì‹ ì˜ ë¹„íŠ¸ ì„¤ì • : ì¼ë°˜ì ìœ¼ë¡œ 8ë¹„íŠ¸</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="n">Parity</span> <span class="p">=</span> <span class="n">Parity</span><span class="p">.</span><span class="n">None</span><span class="p">;</span>       <span class="c1">// í†µì‹ ì˜ ì •í™•ë„ë¥¼ ìœ„í•œ íŒ¨ë¦¬í‹° ê²€ì‚¬(1ì˜ ê°œìˆ˜ì˜ ì§/í™€ ì—¬ë¶€)</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="n">StopBits</span> <span class="p">=</span> <span class="n">StopBits</span><span class="p">.</span><span class="n">One</span><span class="p">;</span>    <span class="c1">// í†µì‹  ë§ë¯¸ 1ë¡œ ì§€ì •</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="n">Handshake</span> <span class="p">=</span> <span class="n">Handshake</span><span class="p">.</span><span class="n">None</span><span class="p">;</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="nf">Open</span><span class="p">();</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="nf">DiscardInBuffer</span><span class="p">();</span>          <span class="c1">// ìˆ˜ì‹  ë²„í¼ ë°ì´í„° ì‚­ì œ</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">Form1_FormClosing</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">FormClosingEventArgs</span> <span class="n">e</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>                    <span class="c1">// ì‹œë¦¬ì–¼ í¬íŠ¸ ë‹«ìŒ</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="nf">Dispose</span><span class="p">();</span>                  <span class="c1">// ì‹œë¦¬ì–¼ í¬íŠ¸ ì™„ì „ í•´ì œ</span>
            <span class="n">ComPort</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
        <span class="p">}</span>
</code></pre></div></div>

<p>í¼ ë¡œë“œì‹œ êµ¬ì„±ë˜ëŠ” ì½”ë“œ ì¤‘
databits, parity, stopbits, handshake ëŠ”
ì‹œë¦¬ì–¼ í¬íŠ¸ ì„¸íŒ… ì˜µì…˜ì´ë‹¤</p>

<p>ì¼ë°˜ì ìœ¼ë¡œ ìœ„ì™€ ê°™ì€ êµ¬ì„±ì´
ê¸°ë³¸ê°’ìœ¼ë¡œ êµ¬ì„±ë˜ë©°,
ì •í™•í•œ í†µì‹  ì„¸íŒ…ì„ ìœ„í•´ì„ 
íŠ¹ì • ê°’ì„ ì§€ì •í•´ì£¼ì§€ë§Œ
ê°„ë‹¨í•œ êµ¬ì„±ì—ì„ 
ì œì™¸í•´ë„ êµ¬ë™ì´ ê°€ëŠ¥í•˜ë‹¤</p>

<p>â€‹í•˜ì§€ë§Œ ê·¸ëŸ¼ì—ë„ ì—¬ëŸ¬ ì˜µì…˜ì´ ìˆë‹¤ëŠ” ê²ƒì€
ì•Œì•„ë‘ë©´ ë‚˜ì˜ì§€ ì•Šìœ¼ë‹ˆ ì•„ë˜ì— ì •ë¦¬í•´ë‘ì</p>

<blockquote>
  <blockquote>
    <p>databits : 8, 7, 6
parity : none, even, mark, odd, space
handshake : none, Xon/Xoff, request to send, request to send Xon/Xoff</p>
  </blockquote>
</blockquote>

<p><br>
ğŸŒ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ìƒì„±</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="nf">Form1</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="nf">InitializeComponent</span><span class="p">();</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="n">DataReceived</span> <span class="p">+=</span> <span class="k">new</span> <span class="nf">SerialDataReceivedEventHandler</span><span class="p">(</span><span class="n">DataReceived</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">DataReceived</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">Ports</span><span class="p">.</span><span class="n">SerialDataReceivedEventArgs</span> <span class="n">e</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">string</span> <span class="n">rxd</span> <span class="p">=</span> <span class="n">ComPort</span><span class="p">.</span><span class="nf">ReadTo</span><span class="p">(</span><span class="s">"\n"</span><span class="p">);</span>
        <span class="p">}</span>
</code></pre></div></div>

<p>Comport.ReadTo() ë¡œ \n ê¹Œì§€ ì½ê³ 
ë°ì´í„°ë¥¼ Delegate ë¡œ ì†¡ì‹ í•œë‹¤</p>

<p>â€‹<br>
ğŸŒ delegate êµ¬ì„±</p>

<figure class="fig">
<img class="image" src="../contents/imgs/csharp_2/3.png">
</figure>

<p>ì²˜ìŒ ë³´ë©´ ì´í•´í•˜ê¸° ì–´ë µë‹¤ ğŸ˜°
delegate ëŠ” ëŒ€ë¦¬ì ì—­í• ì´ë‹¤</p>

<p>A ì—ì„œ B ë¡œ ë°ì´í„°ê°€ ì§ì ‘ ì „ë‹¬ì´ ì•„ë‹Œ
delegate ë¼ëŠ” ëŒ€ë¦¬ìë¥¼ í†µí•´
<br>
â€‹A -&gt; delegate -&gt; B
<br></p>

<p>ì´ëŸ° ì‹ìœ¼ë¡œ ë°ì´í„°ê°€ ì „ë‹¬ëœë‹¤</p>

<p>â€‹â‘  : SetTextDelegate ë¼ëŠ” í•¨ìˆ˜ì—ê²Œ delegate ì„ ì–¸</p>

<p>â‘¡ : BeginInvoke ë¡œ ëŒ€ë¦¬ì ë¹„ë™ê¸°ì‹ ì‹¤í–‰</p>

<p>â‘¢ SetTextDelegate ë¼ëŠ” delegate ì˜ ì¸ìˆ˜ì—</p>

<p>textBox1.AppendText ë¥¼ ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜ ì§€ì •</p>

<p>â€‹</p>

<p>ìœ„ ë‹¨ê³„ë¥¼ ê±°ì³ ì§„í–‰ì´ ë˜ê³ ,
ìµœì¢…ì ìœ¼ë¡œ ì‹¤í–‰ì´ ë˜ëŠ” í¼ì˜ ëª¨ì–‘ì„ í™•ì¸í•˜ì
<span class="caution">* ì•„ë‘ì´ë…¸ì˜ ì‹œë¦¬ì–¼ ëª¨ë‹ˆí„°ê°€ êº¼ì ¸ ìˆì–´ì•¼ í•¨
ì¼œì ¸ ìˆìœ¼ë©´ í¬íŠ¸ê°€ ê²¹ì³ ì‹¤í–‰ ì•ˆë¨</span></p>

<p><br></p>
<p style="text-align: center;">[ ì‹¤í–‰ëœ í¼ ]</p>
<figure class="fig">
<img class="image" src="../contents/imgs/csharp_2/4.png">
</figure>

<p>ì´ë ‡ê²Œ ì‹¤í–‰ëœ í¼ì„ í™œìš©í•´
ì»´í“¨í„°ì— êµ¬ì„±ëœ í¬íŠ¸ ì¤‘ ì„ íƒí•  ìˆ˜ ìˆëŠ” ì½¤ë³´ë°•ìŠ¤,
ë¹„íŠ¸ ì „ì†¡ ì†ë„ ë“± ì˜µì…˜ì„ ì„ íƒí•  ìˆ˜ ìˆê²Œ
ë§Œë“¤ ìˆ˜ ìˆë‹¤ ğŸ‘</p>

<figure class="fig">
<img class="image" src="../contents/imgs/csharp_2/5.png">
</figure>

<p><br>
â€‹
ğŸŒ ì•ì„œ ë§í–ˆë˜ ì§€ì • ì˜µì…˜ ë¹¼ë³´ê¸°</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">private</span> <span class="k">void</span> <span class="nf">Form1_Load</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="n">PortName</span> <span class="p">=</span> <span class="s">"COM3"</span><span class="p">;</span>          <span class="c1">// ì•„ë‘ì´ë…¸ê°€ ì—°ê²°ëœ í¬íŠ¸ ë²ˆí˜¸</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="n">BaudRate</span> <span class="p">=</span> <span class="m">9600</span><span class="p">;</span>            <span class="c1">// ì¼ë°˜ì ìœ¼ë¡œ 9600</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="n">DataBits</span> <span class="p">=</span> <span class="m">8</span><span class="p">;</span>               <span class="c1">// í†µì‹ ì˜ ë¹„íŠ¸ ì„¤ì • : ì¼ë°˜ì ìœ¼ë¡œ 8ë¹„íŠ¸</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="n">Parity</span> <span class="p">=</span> <span class="n">Parity</span><span class="p">.</span><span class="n">None</span><span class="p">;</span>       <span class="c1">// í†µì‹ ì˜ ì •í™•ë„ë¥¼ ìœ„í•œ íŒ¨ë¦¬í‹° ê²€ì‚¬(1ì˜ ê°œìˆ˜ì˜ ì§/í™€ ì—¬ë¶€)</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="n">StopBits</span> <span class="p">=</span> <span class="n">StopBits</span><span class="p">.</span><span class="n">One</span><span class="p">;</span>    <span class="c1">// í†µì‹  ë§ë¯¸ 1ë¡œ ì§€ì •</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="n">Handshake</span> <span class="p">=</span> <span class="n">Handshake</span><span class="p">.</span><span class="n">None</span><span class="p">;</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="nf">Open</span><span class="p">();</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="nf">DiscardInBuffer</span><span class="p">();</span>          <span class="c1">// ìˆ˜ì‹  ë²„í¼ ë°ì´í„° ì‚­ì œ</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">Form1_FormClosing</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">FormClosingEventArgs</span> <span class="n">e</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>                    <span class="c1">// ì‹œë¦¬ì–¼ í¬íŠ¸ ë‹«ìŒ</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="nf">Dispose</span><span class="p">();</span>                  <span class="c1">// ì‹œë¦¬ì–¼ í¬íŠ¸ ì™„ì „ í•´ì œ</span>
            <span class="n">ComPort</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
        <span class="p">}</span>
</code></pre></div></div>
<p>ë§ˆì§€ë§‰ìœ¼ë¡œ ìš” ë¶€ë¶„ì— ë“¤ì–´ìˆëŠ” ì‹œë¦¬ì–¼ í¬íŠ¸ ì„¸íŒ… ì˜µì…˜ë“¤
{ databits, parity, stopbits, handshake }
ì„ ë¹¼ì„œ ì‹¤í–‰í•´ë³´ì</p>

<p>â€‹<figure class="fig">
<img class="image" src="../contents/imgs/csharp_2/6.png">
<img class="image" src="../contents/imgs/csharp_2/7.png">
</figure></p>

<p>ì˜ ì‹¤í–‰ëœë‹¤ :D</p>

<p><br></p>

<p>(ì „ì²´ ì½”ë“œ êµ¬ì„±)</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.ComponentModel</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Data</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Drawing</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Threading.Tasks</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Windows.Forms</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.IO.Ports</span><span class="p">;</span>                          <span class="c1">// í¬íŠ¸ ì„¤ì •ì„ ìœ„í•œ í˜¸ì¶œ</span>

<span class="k">namespace</span> <span class="nn">Serial_to_LCD</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">Form1</span> <span class="p">:</span> <span class="n">Form</span>
    <span class="p">{</span>
        <span class="n">SerialPort</span> <span class="n">ComPort</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SerialPort</span><span class="p">();</span>  <span class="c1">// ì „ì—­ë³€ìˆ˜ ComPort ì„¤ì •</span>
        <span class="k">private</span> <span class="k">delegate</span> <span class="k">void</span> <span class="nf">SetTextDelegate</span><span class="p">(</span><span class="kt">string</span> <span class="n">getString</span><span class="p">);</span>

        <span class="k">public</span> <span class="nf">Form1</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="nf">InitializeComponent</span><span class="p">();</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="n">DataReceived</span> <span class="p">+=</span> <span class="k">new</span> <span class="nf">SerialDataReceivedEventHandler</span><span class="p">(</span><span class="n">DataReceived</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">DataReceived</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">Ports</span><span class="p">.</span><span class="n">SerialDataReceivedEventArgs</span> <span class="n">e</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">string</span> <span class="n">rxd</span> <span class="p">=</span> <span class="n">ComPort</span><span class="p">.</span><span class="nf">ReadTo</span><span class="p">(</span><span class="s">"\n"</span><span class="p">);</span>
            <span class="k">this</span><span class="p">.</span><span class="nf">BeginInvoke</span><span class="p">(</span><span class="k">new</span> <span class="nf">SetTextDelegate</span><span class="p">(</span><span class="n">SerialReceived</span><span class="p">),</span> <span class="k">new</span> <span class="kt">object</span><span class="p">[]</span> <span class="p">{</span> <span class="n">rxd</span> <span class="p">});</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">SerialReceived</span><span class="p">(</span><span class="kt">string</span> <span class="n">inString</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">textBox1</span><span class="p">.</span><span class="nf">AppendText</span><span class="p">(</span><span class="n">inString</span> <span class="p">+</span> <span class="s">"\r\n"</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">Form1_Load</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="n">PortName</span> <span class="p">=</span> <span class="s">"COM3"</span><span class="p">;</span>          <span class="c1">// ì•„ë‘ì´ë…¸ê°€ ì—°ê²°ëœ í¬íŠ¸ ë²ˆí˜¸</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="n">BaudRate</span> <span class="p">=</span> <span class="m">9600</span><span class="p">;</span>            <span class="c1">// ì¼ë°˜ì ìœ¼ë¡œ 9600</span>
            <span class="c1">//ComPort.DataBits = 8;               // í†µì‹ ì˜ ë¹„íŠ¸ ì„¤ì • : ì¼ë°˜ì ìœ¼ë¡œ 8ë¹„íŠ¸</span>
            <span class="c1">//ComPort.Parity = Parity.None;       // í†µì‹ ì˜ ì •í™•ë„ë¥¼ ìœ„í•œ íŒ¨ë¦¬í‹° ê²€ì‚¬(1ì˜ ê°œìˆ˜ì˜ ì§/í™€ ì—¬ë¶€)</span>
            <span class="c1">//ComPort.StopBits = StopBits.One;    // í†µì‹  ë§ë¯¸ 1ë¡œ ì§€ì •</span>
            <span class="c1">//ComPort.Handshake = Handshake.None;</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="nf">Open</span><span class="p">();</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="nf">DiscardInBuffer</span><span class="p">();</span>          <span class="c1">// ìˆ˜ì‹  ë²„í¼ ë°ì´í„° ì‚­ì œ</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">Form1_FormClosing</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">FormClosingEventArgs</span> <span class="n">e</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>                    <span class="c1">// ì‹œë¦¬ì–¼ í¬íŠ¸ ë‹«ìŒ</span>
            <span class="n">ComPort</span><span class="p">.</span><span class="nf">Dispose</span><span class="p">();</span>                  <span class="c1">// ì‹œë¦¬ì–¼ í¬íŠ¸ ì™„ì „ í•´ì œ</span>
            <span class="n">ComPort</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
        <span class="p">}</span>

        
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>íšŒê³ )
delegate ì˜ ì¡´ì¬ì— ëŒ€í•´ ì´í•´ëŠ” ì‰¬ì› ì§€ë§Œ
ì½”ë“œ êµ¬ì„±ì— ëŒ€í•œ êµ¬ì²´ì ì¸ ì´í•´ê°€ ì¡°ê¸ˆ ë¶€ì¡±í–ˆë‹¤</p>

<p>í¬íŠ¸ë¡œ ì „ì†¡ë˜ëŠ” ë°ì´í„°ë¥¼ ë°›ëŠ” ë°©ë²•ì— ìˆì–´
ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì™¸ì—ë„ ì—¬ëŸ¬ ë°©ë²•ì´ ìˆì—ˆëŠ”ë°
ì´ ë¶€ë¶„ì— ëŒ€í•´ ì•Œì•„ë³´ëŠ”ë° ì‹œê°„ì´ ë” í•„ìš”í•  ê²ƒ ê°™ë‹¤</p>

<p>databits, parity, stopbits, handshake ë“±
ìµœê·¼ì—” ì˜µì…˜ ì§€ì • ìì²´ê°€ ì˜ ì“°ì´ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒ ê°™ì€ë°
ì´ ë¶€ë¶„ì€ ì¸í„°ë„·ì— ìˆëŠ” ì •ë³´ ì™¸ì—ë„
ì‹¤ë¬´ì—ì„œ ì§ì ‘ ê²ªì–´ë³´ë©´ì„œ ì•Œì•„ë³´ë©´ ì¢‹ì„ê²ƒ ê°™ë‹¤(ì˜µì…˜ì€ ì•Œì•„ë‘ì)</p>


    <footer>

  dasfef/posts
  <br><br>
   <img class="emoji" title=":octocat:" alt=":octocat:" src="https://github.githubassets.com/images/icons/emoji/octocat.png" height="20" width="20"> <a href="https://github.com/dasfef">@dasfef</a> 
  

</footer>


  </body>
</html>
