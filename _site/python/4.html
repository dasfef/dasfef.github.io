<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="description" content="dasfef(다스페프)의 개발취업난중일기">
  <!-- <meta name="description" content="dasfef의 개발취업난중일기"> -->
  <meta name="keywords" content="C,C++,C#,Python,Java,Arduino,Javascript,Oracle,Machine Learning,dev,파이썬,자바,아두이노,자바스크립트,오라클,머신러닝,AI">
  <title>
    [데이터 분석] numpy random.rand에 관하여 
  </title>
  <!-- : dasfef -->
  
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
  <link rel="manifest" href="/assets/favicon/site.webmanifest">
  <link rel="mask-icon" href="/assets/favicon/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <script type="text/javascript" src=""></script>

<!-- iframe 관련 함수 -->
<script>
  // iframe img 태그에서 url 받아오기
  function showFrame(url){
      var img = new Image();
      img.onload = function(){
          var iframe = document.getElementById('iframe');
          var container = document.getElementById('iframeContainer');
          
          if(container.style.display === 'block'){
            container.style.display = 'none';
          } else {
            // 이미지 사이즈 계산
            iframe.style.width = this.width + 'px';
            iframe.style.height = this.height + 'px';
            iframe.src = url;
            
            // 컨테이너 나타내기
            container.style.display = 'block';
          }
      };
      img.src = url;
  };

  document.addEventListener('DOMContentLoaded', function(){
      document.querySelectorAll('img').forEach(function(image){
        image.addEventListener('click', function(){
          showFrame(this.src);
        });
      });
  });
  
//iframe 외의 영역 클릭시 iframe 숨기기
function hideIframe() {
    var container = document.getElementById('iframeContainer');
    container.style.display = 'none';
}

</script>   
  
</head>
<div id="iframeContainer" onclick="hideIframe()";>
  <iframe id="iframe"></iframe>
</div>
  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>[데이터 분석] numpy random.rand에 관하여 | dasfef</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="[데이터 분석] numpy random.rand에 관하여" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="dasfef의 개발취업난중일기" />
<meta property="og:description" content="dasfef의 개발취업난중일기" />
<link rel="canonical" href="http://localhost:4000/python/4" />
<meta property="og:url" content="http://localhost:4000/python/4" />
<meta property="og:site_name" content="dasfef" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="[데이터 분석] numpy random.rand에 관하여" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"dasfef의 개발취업난중일기","headline":"[데이터 분석] numpy random.rand에 관하여","url":"http://localhost:4000/python/4"}</script>
<!-- End Jekyll SEO tag -->




  <body class="small">

    <header>
  <div class="menu">
    <ul>
      <li class="page_title">[데이터 분석] numpy random.rand에 관하여</li>
<li><a href="/home">/HOME</a></li>
<li><a href="/posts">/POSTS</a></li>
<li><a href="/portfolio">/PORTFOLIO</a></li>
<li><a href="/about">/ABOUT</a></li>
</ul>
  </div>
</header>


    <p class="date">2023.05.01</p>

<p class="caution">개인 기록용입니다 :)
더욱 자세하고 구체적인 정보는
원문 정보를 참고해주세요</p>
<p><br></p>
<div style="text-align:center">


데이터분석 관련 수업을<br>
길벗 출판사의<br>
『모두의 데이터분석 with 파이썬』<br>
으로 진행하고 있다<br>
<br>
데이터분석을 시작하는 단계의 사람이라면<br>
여러모로 배우기 쉬운 책이라 생각하고 있다<br>
<br>
실습으로 코드를 따라하고<br>
각종 기능들에 대한 설명과<br>
이것만 배워도 추가적으로 내가 배우면서 한다면<br>
충분히 데이터분석 할 수 있겠다 싶은<br>
자신감을 키워준다<br>
<br>
그러던 중 numpy random.rand 를 활용하는 예제에서<br>
오류가 발생하여 기록하기로 한다<br>
</div>
<p><br>
[ 본래 예제 ]</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">size</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'jet'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">colorbar</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>
<div style="text-align:center">
위와 같이 코드를 작성하면<br>

<figure class="fig">
<img class="image" src="/contents/imgs/python_4/1.png">
</figure>
이것과 같이 scatter 가 작성되어야 하는데<br>
random.rand 부분에서 오류가 발생한다<br>
​</div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ValueError: s must be a scalar, or float array-like with the same size as x and y
</code></pre></div></div>

<div style="text-align:center">

이와 같은 오류가 발생하는데<br>
s 즉, size 는 위에서 생성한<br>
x, y 와 값의 개수가 같아야 하거나<br>
단일 값을 주어야 한다<br>
<br>
위의 값들은 어떻게 나올까?<br>
<br>
​</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">size</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
</code></pre></div></div>
<figure class="fig">
<img class="image" src="/contents/imgs/python_4/2.png">
</figure>

<div style="text-align:center">
x, y, size 의 값은 위와 같이 나온다<br>
<br>
x = 10 ~ 99 까지의 수 중 랜덤으로 200개 생성<br>
y = 10 ~ 99 까지의 수 중 랜덤으로 200개 생성<br>
size = 0 ~ 1 까지의 수 중 랜덤으로 100개 생성<br>
<br>
여기서 numpy.random.rand() 함수는<br>
인자가 주어지지 않으면 스칼라 값을 반환하고<br>
인자가 1개면 1차원 배열, 2개면 2차원, 3개면 3차원 배열을 반환한다<br>
<br>
위에 주어진 인자는 100이라는 1개이기 때문에<br>
1차원 배열이지만 개수가 100개이기 때문에<br>
x, y 의 값의 개수(200)와 개수가 맞지 않다<br>
<br>
numpy.random.rand(200)으로 수정해보자<br>

</div>
<p>​</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="c1"># size = np.random.rand(100)
</span><span class="n">size</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>

<span class="c1"># print(size)
</span><span class="n">plt</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'jet'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">colorbar</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<figure class="fig">
<img class="image" src="/contents/imgs/python_4/3.png">
</figure>
<div style="text-align:center">
잘 출력된다<br>

그치만 크기가 너무 작다<br>
나오는 값들이 0 ~ 1 사이의 난수이기 때문에<br>
값이 너무 작기 때문이다<br>
<br>
* 100을 붙여주어 값을 키워주자<br>
<br>

</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="c1"># size = np.random.rand(100)
</span><span class="n">size</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>

<span class="c1"># print(size)
</span><span class="n">plt</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'jet'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">colorbar</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>
<figure class="fig">
<img class="image" src="/contents/imgs/python_4/4.png">
</figure>

<div style="text-align:center">
성공!<br>
<br>
난수로 배정된 크기에 따라<br>
점들의 크기가 다름을 확인할 수 있다<br>
<br>
다른 예제가 또 존재한다<br>
</div>
<p>​</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">size</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
<span class="n">mask1</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">50</span>
<span class="n">mask2</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">50</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">mask1</span> <span class="o">+</span> <span class="n">mask2</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">mask1</span> <span class="o">+</span> <span class="n">mask2</span><span class="p">]</span>


<span class="n">plt</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'jet'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">colorbar</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<div style="text-align:center">
마스크를 배우던 중 나온 예시인데<br>
여기도 동일하게 numpy.random.rand(100) 이 존재한다<br>
<br>
개수 맞춰주면 되겠지~<br>
numpy.random.rand(1000) 으로 가자!<br>
<figure class="fig">
<img class="image" src="/contents/imgs/python_4/5.png">
</figure>
<br>
실패했다 😨<br>
<br>
생각해보니 예제에서 보듯<br>
x, y의 값을 재조정했다<br>
<br>
x = x[mask1 + mask2]<br>
y = y[mask1 + mask2]<br>
<br>
mask를 통해 true 값이<br>
둘 중 하나라도 충족하는 값들에 한해<br>
사이즈를 조정해 주었는데<br>
이것이 무조건 1000개는 되지 않을 터<br>
<br>
이는 아래와 같이 해결할 수 있다<br>
<br>
</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">mask1</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">50</span>
<span class="n">mask2</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">50</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">mask1</span> <span class="o">+</span> <span class="n">mask2</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">mask1</span> <span class="o">+</span> <span class="n">mask2</span><span class="p">]</span>
<span class="n">size</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">))</span> <span class="o">*</span> <span class="mi">100</span>   <span class="o">//</span> <span class="n">수정된</span> <span class="n">부분</span>

<span class="n">plt</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'jet'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">colorbar</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<div style="text-align:center">
x와 y를 합한 것의 길이를 파악해<br>
사이즈 개수로 넣어주면<br>
잘 실행된다 👍<br>
<figure class="fig">
<img class="image" src="/contents/imgs/python_4/6.png">
</figure>

​



</div>


    <footer>

  dasfef/posts
  <br><br>
   <img class="emoji" title=":octocat:" alt=":octocat:" src="https://github.githubassets.com/images/icons/emoji/octocat.png" height="20" width="20"> <a href="https://github.com/dasfef">@dasfef</a> 
  

</footer>


  </body>
</html>
